<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>报警管理 - Untitled</title>
    
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"id":"Jrymro","sha":"164504e743217af9f2c75534a7496bb2b403bd27","summary":[{"title":"","articles":[{"title":"安装说明","ref":"installation.md","path":"installation.html","metadata":{"mtime":"2021-08-26T04:02:01+00:00"},"children":[{"title":"tracker服务端","ref":"installation\/server.md","path":"installation\/server.html","metadata":{"mtime":"2020-10-01T02:43:42+00:00"},"children":[{"title":"数据存储","ref":"installation\/server\/data-storage.md","path":"installation\/server\/data-storage.html","metadata":{"mtime":"2020-03-05T02:13:12+00:00"}},{"title":"更换数据存储配置","ref":"change-db.md","path":"change-db.html","metadata":{"mtime":"2020-09-23T06:27:02+00:00"}},{"title":"Server管理","ref":"installation\/server\/manage.md","path":"installation\/server\/manage.html","metadata":{"mtime":"2020-02-28T03:05:17+00:00"}},{"title":"数据清理","ref":"installation\/clean-log.md","path":"installation\/clean-log.html","metadata":{"mtime":"2021-08-25T06:03:28+00:00"}}]},{"title":"tracker客户端","ref":"installation\/client.md","path":"installation\/client.html","metadata":{"mtime":"2021-08-26T04:02:01+00:00"},"children":[{"title":"系统配置","ref":"installation\/client\/agent-config.md","path":"installation\/client\/agent-config.html","metadata":{"mtime":"2020-09-17T11:29:08+00:00"}},{"title":"自定义配置","ref":"installation\/client\/user-config.md","path":"installation\/client\/user-config.html","metadata":{"mtime":"2021-09-06T02:37:48+00:00"}},{"title":"链路追踪扩展","ref":"installation\/client\/trace_tlist.md","path":"installation\/client\/trace_tlist.html","metadata":{"mtime":"2021-09-06T02:37:48+00:00"}}]},{"title":"上报监控数据","ref":"installation\/reprot.md","path":"installation\/reprot.html","metadata":{"mtime":"2021-09-08T09:58:59+00:00"}}]},{"title":"名词解释","ref":"noun-interpretation.md","path":"noun-interpretation.html","metadata":{"mtime":"2019-09-27T03:11:51+00:00"}},{"title":"常见问题","ref":"qa.md","path":"qa.html","metadata":{"mtime":"2021-01-02T10:50:19+00:00"}},{"title":"首页","ref":"application-list.md","path":"application-list.html","metadata":{"mtime":"2019-10-15T03:54:15+00:00"}},{"title":"调用统计","ref":"application-monitoring.md","path":"application-monitoring.html","metadata":{"mtime":"2021-10-20T15:55:23+08:00"}},{"title":"链路追踪","ref":"application-tracking.md","path":"application-tracking.html","metadata":{"mtime":"2021-10-20T15:55:23+08:00"}},{"title":"调试器适用场景","ref":"debug-explain.md","path":"debug-explain.html","metadata":{"mtime":"2020-09-23T07:46:06+00:00"}},{"title":"调试器","ref":"debuger.md","path":"debuger.html","metadata":{"mtime":"2020-09-23T07:53:25+00:00"}},{"title":"免费内存检测工具","ref":"leak.md","path":"leak.html","metadata":{"mtime":"2021-01-26T08:23:35+00:00"}},{"title":"Agent列表","ref":"agent-list.md","path":"agent-list.html","metadata":{"mtime":"2019-12-18T07:16:40+00:00"}},{"title":"机器信息","ref":"sysinfo.md","path":"sysinfo.html","metadata":{"mtime":"2019-09-27T03:11:51+00:00"}},{"title":"报警管理","ref":"alert.md","path":"alert.html","metadata":{"mtime":"2021-10-20T15:44:02+08:00"}},{"title":"项目管理","ref":"project.md","path":"project.html"},{"title":"应用管理","ref":"module.md","path":"module.html"},{"title":"接口管理","ref":"interface.md","path":"interface.html"},{"title":"用户管理","ref":"user.md","path":"user.html","children":[{"title":"第三方登录","ref":"user\/oauth-login.md","path":"user\/oauth-login.html"}]},{"title":"对外开放API","ref":"api.md","path":"api.html"},{"title":"联系我们","ref":"contact-us.md","path":"contact-us.html"}]}],"config":{"plugins":["highlight","image-zoom"],"pluginsConfig":{"highlight":{"defaultLanguage":"markup"},"theme-default":{"show_nav":true,"logo":{"image":"https:\/\/img.kancloud.cn\/4e\/45\/4e45172f86ac746e40eb69c2827ae271_157x77.png","url":"https:\/\/business.swoole.com\/"}}},"themeConfig":{"expandLevel":1,"navs":[{"title":"Swoole Tracker 详细手册","url":"http:\/\/wiki.tracker.swoole-cloud.com"},{"title":"基础手册","url":"http:\/\/base-wiki.tracker.swoole-cloud.com"}]}},"file":{"path":"alert.html","content":"[TOC]\n222\n报警是监控系统的重要组成部分，通过对系统的运行情况设置阈值，例如成功率，失败率，请求数等，当达到阈值时，可以及时获得通知。本系统提供了灵活和完善报警功能，可以使用自定义http接口来接收报警消息\n\n## 报警方式\n\n### 添加报警方式\n\n>[danger] `http:\/\/notifyapi.swoole-cloud.com?appid=123&type=mp` 此地址为我司默认推送地址，已废弃。**请自行处理报警信息。**\n\n填写对应的名称，以及接口地址\n\n![](images\/watermark,type_d3F5LW1pY3JvaGVp,size_10,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10-20190806123912938.jpeg)\n\n提交接口地址后，发送报警消息的方式为向此地址发送`POST`请求，请求的格式为`json`字符串，包括`msg`和`userinfo`字段，请自行处理报警信息，`json`格式如下：\n\n```json\n{\n    \"msg\":\n    {\n        \"level\":2,\n        \"alert_id\":\"409\",\n        \"obj_type\":\"1\",\n        \"obj_id\":\"1000402\",\n        \"obj_name\":\"User应用\",\n        \"alert_event\":\"[{\"time\":6,\"index\":\"total_count\",\"condition\":\"lt\",\"value\":5000,\"level\":2}]\",\n        \"msg\":\"[2018-11-29] \\u544a\\u8b66\\u7b49\\u7ea7:\\u8f83\\u91cd, \\u5e94\\u7528User, 11:20-11:50\\u65f6\\u95f4\\u6bb5\\u768430\\u5206\\u949f\\u5185, \\u8bf7\\u6c42\\u6570  < 5000;\\u8bf7\\u5c3d\\u5feb\\u5904\\u7406\\u3002\"\n    },\n    \"userinfo\":\n    {\n        \"94\":{\n            \"id\":\"94\",\n            \"uid\":\"0\",\n            \"email\":\"\",\n            \"mp_openid\":\"\",\n            \"project_id\":\"\",\n            \"mobile\":\"\",\n            \"gid\":\"0\",\n            \"usertype\":\"0\",\n            \"username\":\"admin\",\n            \"weixinid\":\"\",\n            \"dingdingid\":\"\"\n            }\n    }\n}\n```\n\n> 如果有`ext-swoole`扩展的话，可以启动一个`HTTP Server`进行转发处理：\n\n```php\n$http = new Swoole\\Http\\Server('0.0.0.0', 9501);\n\n$http->on('Request', function ($request, $response) {\n    $data = $request->getContent();\n    var_dump($data); \/\/ 上文的json信息\n    $response->end('');\n});\n\n$http->start();\n```\n\n### 删除报警方式\n\n无需删除，将此方式设置为无效即可\n\n## 报警组\n\n报警组为设置需要给`那些人员`通过`哪种方式`推送报警消息\n\n![](images\/watermark,type_d3F5LW1pY3JvaGVp,size_10,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10.jpeg)\n\n报警人员可设置多个，用户从用户列表中获取\n\n报警类型也可设置多个，报警类型为上方添加的报警方式\n\n## 报警模板\n\n报警模板是来设置报警规则的，支持监控应用、接口、以及客户端机器\n\n![](images\/watermark,type_d3F5LW1pY3JvaGVp,size_10,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10-20190806123913218.jpeg)\n\n* 应用&接口\n\n应用和接口支持设置成功率、失败率、响应时间、请求数，可同时配置多条规则\n\n* 机器\n\n目前机器监控支持`CPU`使用率、可用内存剩余率、磁盘容量\n\n## 报警列表\n\n报警列表为最终的报警设置，选择需要监控的类型（应用、接口、机器），选择后再选择对应的监控对象，选择对应的报警模板，报警组即可\n\n![](images\/watermark,type_d3F5LW1pY3JvaGVp,size_10,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10-20190806123913203.jpeg)","meta":{"mtime":"2021-10-20T15:44:02+08:00"}},"options":{"poweredBy":{"name":"顶想云","link":"https:\/\/www.topthink.com"}}}
</script>

    <script src="asset/lodash/lodash.min.js?v=4.17.21"></script>

    <script src="asset/react/react.production.min.js?v=18.2.0"></script>

    <script src="asset/react-dom/react-dom.production.min.js?v=18.2.0"></script>

    <script src="asset/reader/index.js?v=1.0.66-alpha.7+5dae540"></script>

    <script src="asset/plugins/highlight/index.js?v=1.0.4"></script>

    <script src="asset/plugins/image-zoom/index.js?v=0.0.1"></script>

    <script src="asset/plugins/theme-default/index.js?v=1.0.30"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
