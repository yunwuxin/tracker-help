<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>更换数据存储配置 - Untitled</title>
    
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"id":"Jrymro","sha":"164504e743217af9f2c75534a7496bb2b403bd27","summary":[{"title":"","articles":[{"title":"安装说明","ref":"installation.md","path":"installation.html","metadata":{"mtime":"2021-08-26T04:02:01+00:00"},"children":[{"title":"tracker服务端","ref":"installation\/server.md","path":"installation\/server.html","metadata":{"mtime":"2020-10-01T02:43:42+00:00"},"children":[{"title":"数据存储","ref":"installation\/server\/data-storage.md","path":"installation\/server\/data-storage.html","metadata":{"mtime":"2020-03-05T02:13:12+00:00"}},{"title":"更换数据存储配置","ref":"change-db.md","path":"change-db.html","metadata":{"mtime":"2020-09-23T06:27:02+00:00"}},{"title":"Server管理","ref":"installation\/server\/manage.md","path":"installation\/server\/manage.html"},{"title":"数据清理","ref":"installation\/clean-log.md","path":"installation\/clean-log.html"}]},{"title":"tracker客户端","ref":"installation\/client.md","path":"installation\/client.html","children":[{"title":"系统配置","ref":"installation\/client\/agent-config.md","path":"installation\/client\/agent-config.html"},{"title":"自定义配置","ref":"installation\/client\/user-config.md","path":"installation\/client\/user-config.html"},{"title":"链路追踪扩展","ref":"installation\/client\/trace_tlist.md","path":"installation\/client\/trace_tlist.html"}]},{"title":"上报监控数据","ref":"installation\/reprot.md","path":"installation\/reprot.html"}]},{"title":"名词解释","ref":"noun-interpretation.md","path":"noun-interpretation.html"},{"title":"常见问题","ref":"qa.md","path":"qa.html"},{"title":"首页","ref":"application-list.md","path":"application-list.html"},{"title":"调用统计","ref":"application-monitoring.md","path":"application-monitoring.html"},{"title":"链路追踪","ref":"application-tracking.md","path":"application-tracking.html"},{"title":"调试器适用场景","ref":"debug-explain.md","path":"debug-explain.html"},{"title":"调试器","ref":"debuger.md","path":"debuger.html"},{"title":"免费内存检测工具","ref":"leak.md","path":"leak.html"},{"title":"Agent列表","ref":"agent-list.md","path":"agent-list.html"},{"title":"机器信息","ref":"sysinfo.md","path":"sysinfo.html"},{"title":"报警管理","ref":"alert.md","path":"alert.html"},{"title":"项目管理","ref":"project.md","path":"project.html"},{"title":"应用管理","ref":"module.md","path":"module.html"},{"title":"接口管理","ref":"interface.md","path":"interface.html"},{"title":"用户管理","ref":"user.md","path":"user.html","children":[{"title":"第三方登录","ref":"user\/oauth-login.md","path":"user\/oauth-login.html"}]},{"title":"对外开放API","ref":"api.md","path":"api.html"},{"title":"联系我们","ref":"contact-us.md","path":"contact-us.html"}]}],"config":{"plugins":["highlight","image-zoom"],"pluginsConfig":{"highlight":{"defaultLanguage":"markup"},"theme-default":{"show_nav":true,"logo":{"image":"https:\/\/img.kancloud.cn\/4e\/45\/4e45172f86ac746e40eb69c2827ae271_157x77.png","url":"https:\/\/business.swoole.com\/"}}},"themeConfig":{"expandLevel":1,"navs":[{"title":"Swoole Tracker 详细手册","url":"http:\/\/wiki.tracker.swoole-cloud.com"},{"title":"基础手册","url":"http:\/\/base-wiki.tracker.swoole-cloud.com"}]}},"file":{"path":"change-db.html","content":"我们提供以下两种修改方式\n\n[TOC]\n\n## 安装前修改\n\n安装前可修改MySQL和Redis存储配置，修改方式如下：\n\n1. 更换MySQL数据库，需要将`swoole-admin\/sql\/apm_base.sql`文件中的SQL进行导入到新的数据库中，用来创建数据库和表。\n\n>[info] 因为`apps`和`common`目录的配置文件都是加密的，所以请先修改`docker`目录下的配置文件，然后复制到对应目录。\n\n2. 修改`apps`目录的配置\n```bash\ncp docker\/swoole-admin-apps-conf\/db.php swoole-admin\/center\/web\/apps\/configs\/product\/db.php\n```\n3. 修改`common`目录的配置\n```bash\ncp docker\/swoole-admin-common-conf\/*  swoole-admin\/center\/common\/configs\/product\n```\n\n## 安装后修改\n\n>[danger] 安装后在线修改只能修改MySQL部分，未提供修改Redis功能。\n\n后台提供了在线切换MySQL数据库的功能，如需更换到自己的数据库请按如下操作\n\n- 将自己数据库配置填写进红框1\n- 选择红框2并点击提交，将会检测数据库是否可以连接，如果可以则会关闭服务\n- 刷新页面后会显示如图2的服务未开启\n- 按照红色字的提示，将docker内的数据库数据原封不动拷贝到自己的数据库（如果没有新数据，则可以拷贝初始化SQL文件：`swoole-admin\/sql\/apm_base.sql`）\n- 拷贝好以后选择第三个选项服务未开启，请选择开启的选项，并点击提交\n- 如需需要更换为docker内的数据库，则同上操作选择第一个选项在操作一次\n\n![image.png](images\/watermark,type_d3F5LW1pY3JvaGVp,size_10,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10-20190806135623057.png)\n\n![image.png](images\/watermark,type_d3F5LW1pY3JvaGVp,size_14,text_6K-G5rKD572R57uc54mI5p2D5omA5pyJ,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10-20190806135622682.png)\n","meta":{"mtime":"2020-09-23T06:27:02+00:00"}},"options":{"poweredBy":{"name":"顶想云","link":"https:\/\/www.topthink.com"}}}
</script>

    <script src="asset/lodash/lodash.min.js?v=4.17.21"></script>

    <script src="asset/react/react.production.min.js?v=18.2.0"></script>

    <script src="asset/react-dom/react-dom.production.min.js?v=18.2.0"></script>

    <script src="asset/reader/index.js?v=1.0.66-alpha.7+5dae540"></script>

    <script src="asset/plugins/highlight/index.js?v=1.0.4"></script>

    <script src="asset/plugins/image-zoom/index.js?v=0.0.1"></script>

    <script src="asset/plugins/theme-default/index.js?v=1.0.30"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
